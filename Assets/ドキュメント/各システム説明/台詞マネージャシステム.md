# クラス説明

- DialogueManager
    - Monobehaviorを継承する
    - シングルトンパターンを採用
    - 台詞のトリガー管理とコルーチン起動について責任を持つ
    - OnCardPlayed (Card card): カードがプレイされたことをトリガーに台詞用のコルーチンを起こす
    - OnUnitDestroyed (Unit unit): ユニットが破壊されたことをトリガーに台詞用のコルーチンを起こす
    - OnCustomTrigger (string triggerId): 外部から指定したトリガーIDで台詞用のコルーチンを起こす
    - 外部からこのマネージャにアクセスしてトリガーできるようにする

# 処理シーケンス

## カードプレイ時の台詞トリガーの処理シーケンス

1. プレイ検知（ゲームフロー管理・操作アニメーション → DialogueManager）
    - カードがプレイされた
    - OnCardPlayed(card)が呼ばれる

2. トリガー判定（DialogueManager）
    - 該当カードに紐づく台詞データが存在するか確認する
    - 存在する場合、台詞用のコルーチンを起動する

3. コルーチン実行（DialogueManager）
    - 台詞の表示・再生を行うコルーチンを開始する
    - 他のゲーム処理と並行して実行される

## 破壊時の台詞トリガーの処理シーケンス

1. 破壊検知（戦闘システム → DialogueManager）
    - ユニットが破壊された
    - OnUnitDestroyed(unit)が呼ばれる

2. トリガー判定（DialogueManager）
    - 該当ユニットに紐づく台詞データが存在するか確認する
    - 存在する場合、台詞用のコルーチンを起動する

3. コルーチン実行（DialogueManager）
    - 台詞の表示・再生を行うコルーチンを開始する

## 外部トリガーの処理シーケンス

1. トリガー呼び出し（任意のシステム → DialogueManager）
    - 外部システムがOnCustomTrigger(triggerId)を呼び出す
    - トリガーIDに応じた台詞を再生したい場合に使用する

2. トリガー検索（DialogueManager）
    - triggerIdに紐づく台詞データを検索する

3. コルーチン起動（DialogueManager）
    - 該当する台詞があれば、コルーチンを起動する
